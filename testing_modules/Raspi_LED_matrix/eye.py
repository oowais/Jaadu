from time import sleep
from Adafruit_LED_Backpack import Matrix8x8

# Create display instance on default I2C address (0x70) and bus number.
l_eye = Matrix8x8.Matrix8x8()
r_eye = Matrix8x8.Matrix8x8()

# Alternatively, create a display with a specific I2C address and/or bus.
# display = Matrix8x8.Matrix8x8(address=0x74, busnum=1)

# Initialize the display. Must be called once before using the display.
l_eye.begin()
r_eye.begin()

# Normal, Happy, Laugh, Sad, Angry, Sleepy, Confused
# @Saurav: When combining with the main program, move the expression objects to a different class and import here
boot = [(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7),
        (1, 0), (1, 1), (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7),
        (2, 0), (2, 1), (2, 2), (2, 3), (2, 4), (2, 5), (2, 6), (2, 7),
        (3, 0), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5), (3, 6), (3, 7),
        (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (4, 7),
        (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7),
        (6, 0), (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6), (6, 7),
        (7, 0), (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6), (7, 7)]

l_boot1 = [(0, 3), (0, 4), (0, 5), (0, 6)]
l_boot2 = [(1, 2), (1, 7)]
l_boot3 = [(2, 1), (2, 4), (2, 5), (2, 7)]
l_boot4 = [(3, 0), (3, 4), (3, 5), (3, 7)]
l_boot5 = [(4, 0), (4, 7)]
l_boot6 = [(5, 0), (5, 7)]
l_boot7 = [(6, 0), (6, 7)]
l_boot8 = [(7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_boot1 = [(0, 1), (0, 2), (0, 3), (0, 4)]
r_boot2 = [(1, 0), (1, 5)]
r_boot3 = [(2, 0), (2, 3), (2, 4), (2, 6)]
r_boot4 = [(3, 0), (3, 3), (3, 4), (3, 7)]
r_boot5 = [(4, 0), (4, 7)]
r_boot6 = [(5, 0), (5, 7)]
r_boot7 = [(6, 0), (6, 7)]
r_boot8 = [(7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_normal = [(0, 3), (0, 4), (0, 5), (0, 6),
            (1, 2), (1, 7),
            (2, 1), (2, 4), (2, 5), (2, 7),
            (3, 0), (3, 4), (3, 5), (3, 7),
            (4, 0), (4, 7),
            (5, 0), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_normal = [(0, 1), (0, 2), (0, 3), (0, 4),
            (1, 0), (1, 5),
            (2, 0), (2, 3), (2, 4), (2, 6),
            (3, 0), (3, 3), (3, 4), (3, 7),
            (4, 0), (4, 7),
            (5, 0), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_normal2 = [(0, 3), (0, 4), (0, 5), (0, 6),
             (1, 2), (1, 7),
             (2, 1), (2, 3), (2, 4), (2, 7),
             (3, 0), (3, 3), (3, 4), (3, 7),
             (4, 0), (4, 7),
             (5, 0), (5, 7),
             (6, 0), (6, 7),
             (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_normal2 = [(0, 1), (0, 2), (0, 3), (0, 4),
             (1, 0), (1, 5),
             (2, 0), (2, 2), (2, 3), (2, 6),
             (3, 0), (3, 2), (3, 3), (3, 7),
             (4, 0), (4, 7),
             (5, 0), (5, 7),
             (6, 0), (6, 7),
             (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_happy = [(0, 3), (0, 4), (0, 5), (0, 6),
           (1, 2), (1, 7),
           (2, 1), (2, 7),
           (3, 0), (3, 7),
           (4, 0), (4, 3), (4, 4), (4, 7),
           (5, 0), (5, 2), (5, 5), (5, 7),
           (6, 0), (6, 7),
           (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_happy = [(0, 1), (0, 2), (0, 3), (0, 4),
           (1, 0), (1, 5),
           (2, 0), (2, 6),
           (3, 0), (3, 7),
           (4, 0), (4, 3), (4, 4), (4, 7),
           (5, 0), (5, 2), (5, 5), (5, 7),
           (6, 0), (6, 7),
           (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_happy2 = [(0, 3), (0, 4), (0, 5), (0, 6),
            (1, 2), (1, 7),
            (2, 1), (2, 7),
            (3, 0), (3, 3), (3, 4), (3, 7),
            (4, 0), (4, 2), (4, 5), (4, 7),
            (5, 0), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_happy2 = [(0, 1), (0, 2), (0, 3), (0, 4),
            (1, 0), (1, 5),
            (2, 0), (2, 6),
            (3, 0), (3, 3), (3, 4), (3, 7),
            (4, 0), (4, 2), (4, 5), (4, 7),
            (5, 0), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_angry = [(0, 2),
           (1, 1), (1, 2), (1, 3),
           (2, 1), (2, 2), (2, 3), (2, 4),
           (3, 1), (3, 2), (3, 3), (3, 4), (3, 5),
           (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6),
           (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (5, 7),
           (6, 3), (6, 4), (6, 5), (6, 6)]

r_angry = [(0, 6),
           (1, 4), (1, 5), (1, 6),
           (2, 3), (2, 4), (2, 5), (2, 6),
           (3, 2), (3, 3), (3, 4), (3, 5), (3, 6),
           (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6),
           (5, 0), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5),
           (6, 1), (6, 2), (6, 3), (6, 4)]

l_angry2 = [(0, 2),
            (1, 1), (1, 3),
            (2, 1), (2, 4),
            (3, 1), (3, 3), (3, 5),
            (4, 1), (4, 3), (4, 4), (4, 6),
            (5, 2), (5, 7),
            (6, 3), (6, 4), (6, 5), (6, 6)]

r_angry2 = [(0, 6),
            (1, 4), (1, 6),
            (2, 3), (2, 6),
            (3, 2), (3, 4), (3, 6),
            (4, 1), (4, 3), (4, 4), (4, 6),
            (5, 0), (5, 5),
            (6, 1), (6, 2), (6, 3), (6, 4)]

l_sleepy = [(0, 3), (0, 4), (0, 5), (0, 6),
            (1, 2), (1, 7),
            (2, 1), (2, 3), (2, 3), (2, 4), (2, 5), (2, 7),
            (3, 0), (3, 4), (3, 7),
            (4, 0), (4, 3), (4, 7),
            (5, 0), (5, 2), (5, 3), (5, 4), (5, 5), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_sleepy = [(0, 1), (0, 2), (0, 3), (0, 4),
            (1, 0), (1, 5),
            (2, 0), (2, 2), (2, 3), (2, 4), (2, 5), (2, 6),
            (3, 0), (3, 4), (3, 7),
            (4, 0), (4, 3), (4, 7),
            (5, 0), (5, 2), (5, 3), (5, 4), (5, 5), (5, 7),
            (6, 0), (6, 7),
            (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_sad = [(0, 3), (0, 4), (0, 5), (0, 6),
         (1, 2), (1, 7),
         (2, 1), (2, 7),
         (3, 0), (3, 2), (3, 3), (3, 4), (3, 5), (3, 7),
         (4, 0), (4, 4), (4, 5), (4, 7),
         (5, 0), (5, 4), (5, 5), (5, 7),
         (6, 0), (6, 4), (6, 5), (6, 7),
         (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_sad = [(0, 1), (0, 2), (0, 3), (0, 4),
         (1, 0), (1, 5),
         (2, 0), (2, 6),
         (3, 0), (3, 2), (3, 3), (3, 4), (3, 5), (3, 7),
         (4, 0), (4, 2), (4, 3), (4, 7),
         (5, 0), (5, 2), (5, 3), (5, 7),
         (6, 0), (6, 2), (6, 3), (6, 7),
         (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_surprised = [(0, 3), (0, 4), (0, 5), (0, 6),
               (1, 2), (1, 7),
               (2, 1), (2, 3), (2, 4), (2, 7),
               (3, 0), (3, 2), (3, 5), (3, 7),
               (4, 0), (4, 2), (4, 5), (4, 7),
               (5, 0), (5, 3), (5, 4), (5, 7),
               (6, 0), (6, 7),
               (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_surprised = [(0, 1), (0, 2), (0, 3), (0, 4),
               (1, 0), (1, 5),
               (2, 0), (2, 3), (2, 4), (2, 6),
               (3, 0), (3, 2), (3, 5), (3, 7),
               (4, 0), (4, 2), (4, 5), (4, 7),
               (5, 0), (5, 3), (5, 4), (5, 7),
               (6, 0), (6, 7),
               (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

l_surprised2 = [(0, 3), (0, 4), (0, 5), (0, 6),
                (1, 2), (1, 7),
                (2, 1), (2, 3), (2, 4), (2, 7),
                (3, 0), (3, 2), (3, 3), (3, 4), (3, 5), (3, 7),
                (4, 0), (4, 2), (4, 3), (4, 4), (4, 5), (4, 7),
                (5, 0), (5, 3), (5, 4), (5, 7),
                (6, 0), (6, 7),
                (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]

r_surprised2 = [(0, 1), (0, 2), (0, 3), (0, 4),
                (1, 0), (1, 5),
                (2, 0), (2, 3), (2, 4), (2, 6),
                (3, 0), (3, 2), (3, 3), (3, 4), (3, 5), (3, 7),
                (4, 0), (4, 2), (4, 3), (4, 4), (4, 5), (4, 7),
                (5, 0), (5, 3), (5, 4), (5, 7),
                (6, 0), (6, 7),
                (7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6)]


def clear_pixels(l_arr, r_arr):
    for a in l_arr:
        l_eye.set_pixel(a[0], a[1], 0)
    for a in r_arr:
        r_eye.set_pixel(a[0], a[1], 0)
    write_buffer()


def set_pixels(l_arr, r_arr):
    for a in l_arr:
        l_eye.set_pixel(a[0], a[1], 1)
    for a in r_arr:
        r_eye.set_pixel(a[0], a[1], 1)
    write_buffer()


def clear_buffer():
    l_eye.clear()
    r_eye.clear()


def write_buffer():
    l_eye.write_display()
    r_eye.write_display()


# todo: making the boot up eye
def startup():
    clear_buffer()
    write_buffer()
    print('Startup..')
    set_pixels(boot, boot)
    sleep(0.5)
    clear_pixels(boot, boot)
    sleep(0.5)
    set_pixels(boot, boot)
    sleep(0.5)
    clear_pixels(l_boot1, r_boot1)
    sleep(0.5)
    clear_pixels(l_boot2, r_boot2)
    sleep(0.5)
    clear_pixels(l_boot3, r_boot3)
    sleep(0.5)
    clear_pixels(l_boot4, r_boot4)
    sleep(0.5)
    clear_pixels(l_boot5, r_boot5)
    sleep(0.5)
    clear_pixels(l_boot6, r_boot6)
    sleep(0.5)
    clear_pixels(l_boot7, r_boot7)
    sleep(0.5)
    clear_pixels(l_boot8, r_boot8)
    sleep(0.5)


def normal():
    print('Normal')
    clear_buffer()
    set_pixels(l_normal, r_normal)
    sleep(2)
    clear_buffer()
    set_pixels(l_normal2, r_normal2)


def happy():
    print('Happy')
    clear_buffer()
    set_pixels(l_happy, r_happy)
    sleep(1)
    clear_buffer()
    set_pixels(l_happy2, r_happy2)


def sad():
    print('Sad')
    clear_buffer()
    set_pixels(l_sad, r_sad)


def angry():
    print('angry')
    clear_buffer()
    set_pixels(l_angry, r_angry)
    sleep(1)
    clear_buffer()
    set_pixels(l_angry2, r_angry2)


def sleepy():
    print('sleepy')
    clear_buffer()
    set_pixels(l_sleepy, r_sleepy)


def surprised():
    print('surprised')
    clear_buffer()
    set_pixels(l_surprised, r_surprised)
    sleep(1)
    clear_buffer()
    set_pixels(l_surprised2, r_surprised2)


try:

    while True:
        startup()
        normal()
        sleep(2)
        happy()
        sleep(2)
        sad()
        sleep(2)
        angry()
        sleep(2)
        sleepy()
        sleep(2)
        surprised()
        sleep(2)
except KeyboardInterrupt:
    print('Exit...')
